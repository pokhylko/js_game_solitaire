{"version":3,"sources":["scripts/create_deck.js","scripts/shaffle_deck.js","scripts/hand_over_card.js","scripts/styled_card.js","scripts/create_field.js","scripts/main.js"],"names":["SUITS","NAME","DECK","DECK_LENGTH","rank","length","card","push","name","suit","color","number","cardback","module","exports","require","shuffledDeck","shuffleDeck","randomCard","Math","floor","random","filter","removeCard","handOverCard","deck","pop","fourColumns","document","querySelectorAll","deskHeaderIn","querySelector","deskHeaderInS2","styleFour","map","column","cards","style","top","left","zIndex","styleSeven","columns","styleTwo","cardsS2","deskColumns","deskHeaderInS1","deckS1","deckS2","sevenColumns","sevenDeck","createS1","baseCard","createElement","classList","add","append","addEventListener","eventFlipS1","handOver","newCard","innerHTML","createSevenColumn","columnArr","newArrCard","threeHandOverCard","lastChild","remove","addListenerS1","flipCard","slice","reverse","backDeck","eventS1","event","startGame","target","activeCard","activeCardTop","activeCardLeft","fromNextCard","nextSibling","fromParentCard","parentElement","prevCard","previousSibling","fromColumn","fromCard","querCard","nextCard","elemBelow","shiftX","clientX","getBoundingClientRect","shiftY","clientY","body","moveAt","pageX","pageY","onMouseMove","onmouseup","removeEventListener","ondragstart","plusTop","evt","hidden","elementFromPoint"],"mappings":"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","file":"main.3334f8f5.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst SUITS = ['hearts', 'diamonds', 'spades', 'clubs'];\nconst NAME = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];\nconst DECK = [];\nconst DECK_LENGTH = 52;\n\nfor (let rank = 0; rank < NAME.length; rank++) {\n  for (let card = 0; card < SUITS.length; card++) {\n    DECK.push({\n      name: `${NAME[rank]}`,\n      suit: `${SUITS[card]}`,\n      color: `${SUITS[card] === 'hearts'\n      || SUITS[card] === 'diamonds' ? 'red' : 'black'}`,\n      number: `${rank + 1}`,\n      cardback: true,\n    });\n  }\n}\n\nmodule.exports = {\n  DECK, DECK_LENGTH,\n};\n","'use strict';\n\nlet { DECK } = require('./create_deck');\nconst { DECK_LENGTH } = require('./create_deck');\n\nconst shuffledDeck = [];\n\nfunction shuffleDeck() {\n  for (let card = 0; card < DECK_LENGTH; card++) {\n    const randomCard = DECK[Math.floor(Math.random() * DECK.length)];\n\n    DECK = DECK.filter(removeCard => removeCard !== randomCard);\n    shuffledDeck.push(randomCard);\n  }\n}\n\nmodule.exports = {\n  shuffleDeck, shuffledDeck,\n};\n","'use strict';\n\nfunction handOverCard(deck) {\n  return deck.pop();\n}\n\nmodule.exports = {\n  handOverCard,\n};\n","'use strict';\n\nconst fourColumns = document.querySelectorAll('.desk-header__out-f');\nconst deskHeaderIn = document.querySelector('.desk-header__in');\nconst deskHeaderInS2 = deskHeaderIn.querySelector('.s2');\n\nfunction styleFour() {\n  [...fourColumns].map(column => {\n    const cards = column.querySelectorAll('.card');\n\n    [...cards].map(card => {\n      card.style.top = `0px`;\n      card.style.left = '0px';\n      card.style.zIndex = '1';\n    });\n  });\n}\n\nfunction styleSeven(columns) {\n  [...columns].map(column => {\n    const cards = column.querySelectorAll('.card');\n    let top = '0';\n    let zIndex = '1';\n\n    [...cards].map(card => {\n      card.style.top = `${top}px`;\n      card.style.left = '0px';\n      card.style.zIndex = `${zIndex}`;\n      top = +top + 30;\n      zIndex++;\n    });\n  });\n}\n\nfunction styleTwo() {\n  const cardsS2 = deskHeaderInS2.querySelectorAll('.card');\n  let left = '0';\n\n  for (let card = 0; card < cardsS2.length; card++) {\n    cardsS2[card].style.top = '0px';\n\n    if (cardsS2.length - card <= 3) {\n      cardsS2[card].style.left = `${left}px`;\n      left = +left + 30;\n    } else {\n      cardsS2[card].style.left = '0px';\n    }\n  }\n}\n\nmodule.exports = {\n  styleFour,\n  styleSeven,\n  styleTwo,\n};\n","'use strict';\n\nconst { shuffledDeck } = require('./shaffle_deck');\nconst { handOverCard } = require('./hand_over_card');\nconst { styleSeven } = require('./styled_card');\nconst { styleTwo } = require('./styled_card');\n\nconst deskColumns = document.querySelectorAll('.desk-field__w');\nconst deskHeaderIn = document.querySelector('.desk-header__in');\nconst deskHeaderInS1 = deskHeaderIn.querySelector('.s1');\nconst deskHeaderInS2 = deskHeaderIn.querySelector('.s2');\nlet deckS1 = [];\nlet deckS2 = [];\nconst sevenColumns = document.querySelectorAll('.desk-field__w');\nconst sevenDeck = [];\n\nfunction createS1() {\n  const baseCard = document.createElement('div');\n\n  baseCard.classList.add('base-card');\n  deskHeaderInS1.append(baseCard);\n\n  baseCard.addEventListener('click', eventFlipS1);\n\n  for (let card = 0; card < 24; card++) {\n    const handOver = handOverCard(shuffledDeck);\n    const newCard = document.createElement('div');\n\n    newCard.classList.add('card', 'cardback');\n    newCard.innerHTML = `<span>${handOver.name}</span>`;\n    newCard.classList.add(handOver.suit);\n    newCard.style.top = '0px';\n    deskHeaderInS1.append(newCard);\n    deckS1.push(handOver);\n  }\n}\n\nfunction createSevenColumn() {\n  for (let column = 0; column < sevenColumns.length; column++) {\n    const columnArr = [];\n    const baseCard = document.createElement('div');\n\n    baseCard.classList.add('base-card');\n    sevenColumns[column].append(baseCard);\n\n    for (let card = 0; card <= column; card++) {\n      const newCard = document.createElement('div');\n      const newArrCard = handOverCard(shuffledDeck);\n\n      if (card !== column) {\n        newCard.classList.add('card', 'cardback');\n      } else {\n        newCard.classList.add('card');\n        newArrCard.cardback = false;\n      }\n      newCard.innerHTML = `<span>${newArrCard.name}</span>`;\n      newCard.classList.add(newArrCard.suit);\n      sevenColumns[column].append(newCard);\n      columnArr.push(newArrCard);\n    }\n\n    sevenDeck.push(columnArr);\n  }\n  styleSeven(deskColumns);\n}\n\n// ****\n\nfunction threeHandOverCard() {\n  if (deckS1.length > 0) {\n    for (let card = 0; card < 3; card++) {\n      const handOver = handOverCard(deckS1);\n      const newCard = deskHeaderInS1.lastChild;\n\n      newCard.classList.add('card');\n      newCard.classList.remove('cardback');\n      newCard.innerHTML = `<span>${handOver.name}</span>`;\n      newCard.classList.add(handOver.suit);\n      deskHeaderInS2.append(newCard);\n      deckS2.push(handOver);\n    }\n\n    addListenerS1();\n    styleTwo();\n  }\n}\n\nfunction flipCard() {\n  deckS1 = deckS2.slice().reverse();\n  deckS2 = [];\n\n  const backDeck = deskHeaderInS2.querySelectorAll('.card');\n\n  for (let card = 0; card < backDeck.length; card++) {\n    backDeck[card].classList.add('cardback');\n    backDeck[card].style.left = '0px';\n\n    deskHeaderInS1.append(backDeck[card]);\n  }\n}\n\nconst eventS1 = function(event) {\n  threeHandOverCard();\n};\n\nconst eventFlipS1 = function(event) {\n  flipCard();\n  addListenerS1();\n};\n\nfunction addListenerS1() {\n  const lastCardS1 = deskHeaderInS1.lastChild;\n\n  lastCardS1.addEventListener('click', eventS1);\n}\n\nmodule.exports = {\n  deckS1,\n  createS1,\n  createSevenColumn,\n  addListenerS1,\n  sevenDeck,\n  sevenColumns,\n};\n","'use strict';\n\nconst { shuffleDeck } = require('./shaffle_deck');\nconst { createS1 } = require('./create_field');\nconst { sevenColumns } = require('./create_field');\nconst { createSevenColumn } = require('./create_field');\nconst { addListenerS1 } = require('./create_field');\nconst { styleSeven } = require('./styled_card');\nconst { styleFour } = require('./styled_card');\n\nconst deskColumns = document.querySelectorAll('.desk-field__w');\n\nfunction startGame() {\n  shuffleDeck();\n  createS1();\n  addListenerS1();\n  createSevenColumn();\n}\n\nstartGame();\n\ndocument.addEventListener('mousedown', event => {\n  if (event.target.classList[0] !== 'card'\n  || event.target.classList[1] === 'cardback') {\n    return;\n  }\n\n  const activeCard = event.target;\n  const activeCardTop = activeCard.style.top;\n  const activeCardLeft = activeCard.style.left;\n  const fromNextCard = activeCard.nextSibling;\n  const fromParentCard = activeCard.parentElement;\n  const prevCard = activeCard.previousSibling;\n\n  if (fromParentCard.classList[0] === 'desk-field__w') {\n    let fromColumn = 0;\n\n    while (fromParentCard !== sevenColumns[fromColumn]) {\n      fromColumn++;\n    }\n\n    let fromCard = 0;\n    const querCard = sevenColumns[fromColumn].querySelectorAll('.card');\n\n    while (activeCard !== querCard[fromCard]) {\n      fromCard++;\n    }\n  }\n\n  const cards = [];\n  let nextCard = activeCard;\n\n  while (nextCard) {\n    cards.push(nextCard);\n    nextCard = nextCard.nextSibling;\n  }\n\n  let elemBelow = null;\n  const shiftX = event.clientX - activeCard.getBoundingClientRect().left;\n  const shiftY = event.clientY - activeCard.getBoundingClientRect().top;\n\n  [...cards].map(card => {\n    card.style.zIndex = 1000;\n    document.body.append(card);\n  });\n\n  moveAt(event.pageX, event.pageY);\n\n  function moveAt(pageX, pageY) {\n    let plusTop = 0;\n\n    [...cards].map(card => {\n      card.style.left = pageX - shiftX + 'px';\n      card.style.top = pageY - shiftY + plusTop + 'px';\n      plusTop += 30;\n    });\n  }\n\n  function onMouseMove(evt) {\n    moveAt(evt.pageX, evt.pageY);\n\n    activeCard.hidden = true;\n\n    elemBelow = document.elementFromPoint(evt.clientX, evt.clientY);\n\n    activeCard.hidden = false;\n\n    if (!elemBelow) {\n      return; // eslint-disable-line\n    }\n  }\n\n  document.addEventListener('mousemove', onMouseMove);\n\n  activeCard.onmouseup = function() {\n    if (elemBelow === null) {\n      activeCard.style.top = activeCardTop;\n      activeCard.style.left = activeCardLeft;\n      fromParentCard.append(activeCard);\n    } else {\n      if (fromParentCard.classList[0] === 'desk-field__w') {\n        // The same W1-7\n        if (elemBelow.classList[0] !== 'card'\n        || fromParentCard === elemBelow.parentElement) {\n          [...cards].map(card => {\n            fromParentCard.append(card);\n          });\n          styleSeven(deskColumns);\n        }\n\n        // from W1-7 to W1-7\n        if (fromParentCard !== elemBelow.parentElement\n          && elemBelow.parentElement.classList[0] === 'desk-field__w') {\n          prevCard.classList.remove('cardback');\n\n          if (cards.length > 0) {\n            [...cards].map(card => {\n              elemBelow.parentElement.append(card);\n            });\n          }\n\n          elemBelow.parentElement.append(activeCard);\n          styleSeven(deskColumns);\n        }\n\n        // from W1-7 to F1-4\n        if (fromParentCard !== elemBelow.parentElement\n          && elemBelow.parentElement.classList[0] === 'desk-header__out-f'\n          && fromNextCard === null) {\n          prevCard.classList.remove('cardback');\n\n          elemBelow.parentElement.append(activeCard);\n          styleFour();\n        }\n      }\n    }\n    document.removeEventListener('mousemove', onMouseMove);\n    activeCard.onmouseup = null;\n  };\n\n  activeCard.ondragstart = function() {\n    return false;\n  };\n});\n"]}